<app-dashoard-skeleton *ngIf="load"></app-dashoard-skeleton>
<div class="layout-dashboard" *ngIf="!load">
    <div class="grid">

  
                <div class="col-12 md:col-6 lg:col-3">
                    <div class="surface-card shadow-2 p-3 border-round">
                        <div class="flex justify-content-between mb-3">
                            <div>
                                <span class="block  mb-3" style="color: #235a8c !important;font-weight: bolder;">Nombre de Personne</span>
                                <div class="text-900 font-medium text-xl">

                                    {{states?.nbrePersonne || 0}}
                                </div>
                            </div>
                            <div class="flex align-items-center justify-content-center bg-blue-100 border-round" style="width:2.5rem;height:2.5rem;background: linear-gradient(to right, #235a8c, #0e3f6a);">
                                <i class="pi pi-user  text-xl" style="color: white;"></i>
                            </div>
                        </div>
            
                    </div>
                </div>
                <div class="col-12 md:col-6 lg:col-3">
                    <div class="surface-card shadow-2 p-3 border-round">
                        <div class="flex justify-content-between mb-3">
                            <div>
                                <span class="block  mb-3" style="color: #235a8c !important;font-weight: bolder;">Nombre De Quartiers</span>
                                <div class="text-900 font-medium text-xl">
                                    {{states?.nbreQuartiers || 0}}

                                </div>
                            </div>
                            <div class="flex align-items-center justify-content-center border-round" style="width:2.5rem;height:2.5rem;background: linear-gradient(to right, #235a8c, #0e3f6a);">
                                <i class="pi pi-map-marker  text-xl" style="color: white;"></i>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="col-12 md:col-6 lg:col-3">
                    <div class="surface-card shadow-2 p-3 border-round">
                        <div class="flex justify-content-between mb-3">
                            <div>
                                <span class="block  mb-3" style="color: #235a8c !important;font-weight: bolder;">Nombre de Residence
                                </span>
                                <div class="text-900 font-medium text-xl">
                                    {{states?.nombreDeRidence || 0}}
   
                                </div>
                            </div>
                            <div class="flex align-items-center justify-content-center border-round" style="width:2.5rem;height:2.5rem;background: linear-gradient(to right, #235a8c, #0e3f6a);">
                                <i class="pi pi-inbox  text-xl" style="color: white;"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 md:col-6 lg:col-3">
                    <div class="surface-card shadow-2 p-3 border-round">
                        <div class="flex justify-content-between mb-3">
                            <div>
                                <span class="block  mb-3" style="color: #235a8c !important;font-weight: bolder;">Nombre de vulnerabilité</span>
                                <div class="text-900 font-medium text-xl">
                                    {{states?.nbreVulnerabilite || 0 }}

                                </div>
                            </div>
                            <div class="flex align-items-center justify-content-center border-round" style="width:2.5rem;height:2.5rem; background: linear-gradient(to right, #235a8c, #0e3f6a);">
                                <i class="pi pi-comment text-xl" style="color: white;"></i>
                            </div>
                        </div>
                    </div>
                </div>
      


    
        <div class="col-12 md:col-12 lg:col-12 xl:col-6">
            <p-panel header="Dernieres Personnes Enregistrés" styleClass="global-sales">
                <div class="col-12 flex">
                    <div class="col-12">
                <table>
                    <thead>
                        <tr>
                            <th></th>
                            <th class="country">Noms</th>
                            <th>Sexe</th>
                            <th>Region</th>
                            <th>Quartier</th>
                            <th>Enregistrés Par</th>

                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let data of states?.dernierPersonneEnregistre; let i = index">
                            <td>{{i + 1}}</td>
                            <td class="country">
                                <span>{{data.nom}} </span>
                            </td>
                            <td>{{data?.sexe}}</td>
                            <td>{{data?.region?.region}}</td>
                            <td>{{data?.residence?.quartier?.libelle}}</td>
                            <td>{{data?.utilisateur?.username}}</td>

                        </tr>

                    </tbody>
                </table>
            </div>

    </div>
            </p-panel>
        </div>
        <div class="col-12 md:col-12 lg:col-12 xl:col-6">
            <p-panel header="Statistique des Personne Par vulnerabilité" styleClass="global-sales">
                <div class="col-12 flex justify-content-center">
            <div class="col-fluid">
                <p-chart type="pie" [data]="vulnerability" [options]="options"></p-chart>

            </div>
    </div>
            </p-panel>
        </div>
        <div class="col-12 md:col-12 lg:col-12 xl:col-6">
            <p-panel header="Statistique des Personne Par Regions" styleClass="global-sales">
                <p-chart type="bar" [data]="basicData" [options]="basicOptions"></p-chart>

            </p-panel>
        </div>

    </div>
</div>
